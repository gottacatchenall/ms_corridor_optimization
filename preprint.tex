%!TEX TS-program = xelatex
\documentclass[10pt,oneside]{article}
\usepackage[fontsize=9pt]{scrextend}

\usepackage[english]{babel}

\usepackage{amsmath,amssymb,amsfonts}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{stix2}
\usepackage[scaled]{helvet}
\usepackage[scaled]{inconsolata}

\usepackage{lastpage}

\usepackage{setspace}

\usepackage{ccicons}

\usepackage[hang,flushmargin]{footmisc}

\usepackage{geometry}

\setlength{\parindent}{0pt}
\setlength{\parskip}{6pt plus 2pt minus 1pt}

\usepackage{fancyhdr}
\renewcommand{\headrulewidth}{0pt}\providecommand{\tightlist}{%
  \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}

\makeatletter
\newcounter{tableno}
\newenvironment{tablenos:no-prefix-table-caption}{
  \caption@ifcompatibility{}{
    \let\oldthetable\thetable
    \let\oldtheHtable\theHtable
    \renewcommand{\thetable}{tableno:\thetableno}
    \renewcommand{\theHtable}{tableno:\thetableno}
    \stepcounter{tableno}
    \captionsetup{labelformat=empty}
  }
}{
  \caption@ifcompatibility{}{
    \captionsetup{labelformat=default}
    \let\thetable\oldthetable
    \let\theHtable\oldtheHtable
    \addtocounter{table}{-1}
  }
}
\makeatother

\usepackage{array}
\newcommand{\PreserveBackslash}[1]{\let\temp=\\#1\let\\=\temp}
\let\PBS=\PreserveBackslash

\usepackage[breaklinks=true]{hyperref}
\hypersetup{colorlinks,%
citecolor=blue,%
filecolor=blue,%
linkcolor=blue,%
urlcolor=blue}
\usepackage{url}

\usepackage{caption}
\setcounter{secnumdepth}{0}
\usepackage{cleveref}

\usepackage{graphicx}
\makeatletter
\def\maxwidth{\ifdim\Gin@nat@width>\linewidth\linewidth
\else\Gin@nat@width\fi}
\makeatother
\let\Oldincludegraphics\includegraphics
\renewcommand{\includegraphics}[1]{\Oldincludegraphics[width=\maxwidth]{#1}}

\usepackage{longtable}
\usepackage{booktabs}

\usepackage{color}
\usepackage{fancyvrb}
\newcommand{\VerbBar}{|}
\newcommand{\VERB}{\Verb[commandchars=\\\{\}]}
\DefineVerbatimEnvironment{Highlighting}{Verbatim}{commandchars=\\\{\}}
% Add ',fontsize=\small' for more characters per line
\usepackage{framed}
\definecolor{shadecolor}{RGB}{248,248,248}
\newenvironment{Shaded}{\begin{snugshade}}{\end{snugshade}}
\newcommand{\KeywordTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{\textbf{#1}}}
\newcommand{\DataTypeTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{#1}}
\newcommand{\DecValTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\BaseNTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\FloatTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\ConstantTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\CharTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\SpecialCharTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\StringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\VerbatimStringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\SpecialStringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\ImportTok}[1]{#1}
\newcommand{\CommentTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textit{#1}}}
\newcommand{\DocumentationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\AnnotationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\CommentVarTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\OtherTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{#1}}
\newcommand{\FunctionTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\VariableTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\ControlFlowTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{\textbf{#1}}}
\newcommand{\OperatorTok}[1]{\textcolor[rgb]{0.81,0.36,0.00}{\textbf{#1}}}
\newcommand{\BuiltInTok}[1]{#1}
\newcommand{\ExtensionTok}[1]{#1}
\newcommand{\PreprocessorTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textit{#1}}}
\newcommand{\AttributeTok}[1]{\textcolor[rgb]{0.77,0.63,0.00}{#1}}
\newcommand{\RegionMarkerTok}[1]{#1}
\newcommand{\InformationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\WarningTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\AlertTok}[1]{\textcolor[rgb]{0.94,0.16,0.16}{#1}}
\newcommand{\ErrorTok}[1]{\textcolor[rgb]{0.64,0.00,0.00}{\textbf{#1}}}
\newcommand{\NormalTok}[1]{#1}

\newlength{\cslhangindent}
\setlength{\cslhangindent}{1.5em}
\newlength{\csllabelwidth}
\setlength{\csllabelwidth}{3em}
\newenvironment{CSLReferences}[3] % #1 hanging-ident, #2 entry spacing
 {% don't indent paragraphs
  \setlength{\parindent}{0pt}
  % turn on hanging indent if param 1 is 1
  \ifodd #1 \everypar{\setlength{\hangindent}{\cslhangindent}}\ignorespaces\fi
  % set entry spacing
  \ifnum #2 > 0
  \setlength{\parskip}{#2\baselineskip}
  \fi
 }%
 {}
\usepackage{calc} % for \widthof, \maxof
\newcommand{\CSLBlock}[1]{#1\hfill\break}
\newcommand{\CSLLeftMargin}[1]{\parbox[t]{\maxof{\widthof{#1}}{\csllabelwidth}}{#1}}
\newcommand{\CSLRightInline}[1]{\parbox[t]{\linewidth}{#1}}
\newcommand{\CSLIndent}[1]{\hspace{\cslhangindent}#1}\usepackage[table,dvipsnames]{xcolor}

\geometry{includemp,
            letterpaper,
            top=2.4cm,
            bottom=2.4cm,
            left=1.0cm,
            right=1.0cm,
            marginparwidth=5cm,
            marginparsep=1.0cm}

\usepackage[singlelinecheck=off]{caption}

\captionsetup{
  font={small},
  labelfont={bf},
  format=plain,
  labelsep=quad
}

\usepackage{floatrow}

\floatsetup[figure]{margins=hangright,
              facing=no,
              capposition=beside,
              capbesideposition={center,outside},
              floatwidth=\textwidth}

% \floatsetup[table]{margins=hangright,
%              facing=no,
%              capposition=beside,
%              capbesideposition={center,outside},
%              floatwidth=\textwidth}

\pagestyle{plain}

\setcounter{secnumdepth}{5}

\usepackage{titlesec}

\titleformat{\section}[block]
{\normalfont\large\sffamily}
{\thesection}{.5em}{\titlerule\\[.8ex]\bfseries}

\titleformat{\subsection}[runin]
{\normalfont\fontseries{b}\selectfont\filright\sffamily}
{\thesubsection.}{.5em}{}

\titleformat{\subsubsection}[runin]
{\normalfont\itshape\rmfamily\bfseries}{\thesubsubsection}{1em}{}

\fancypagestyle{firstpage}
{
   \fancyhf{}
   \renewcommand{\headrulewidth}{0pt}
   \fancyfoot[R]{\footnotesize\ccby}
   \fancyfoot[L]{\footnotesize\sffamily\today}
}

\fancypagestyle{normal}
{
  \fancyhf{}
  \fancyfoot[R]{\footnotesize\sffamily\thepage\ of \pageref*{LastPage}}
}

\usepackage{tikz}
\begin{document}
\pagestyle{normal}
\thispagestyle{firstpage}

\newcommand{\colorRule}[3][black]{\textcolor[HTML]{#1}{\rule{#2}{#3}}}

\noindent {\LARGE \textbf{\textsf{Optimizing corridor placement using
simulated annealing}}}

\medskip
\begin{flushleft}
{\small
%
\href{https://orcid.org/0000-0002-6506-6487}{Michael D.\,Catchen}%
%
\,\textsuperscript{1,2}
\vskip 1em
\textsuperscript{1}\,McGill University; \textsuperscript{2}\,Qu√©bec
Centre for Biodiversity Sciences\\
\vskip 1em
\textbf{Correspondance to:}\\
Michael D. Catchen --- \texttt{michael.catchen@mail.mcgill.ca}\\
}
\end{flushleft}

\vskip 2em
\makebox[0pt][l]{\colorRule[CCCCCC]{2.0\textwidth}{0.5pt}}
\vskip 2em
\noindent

\marginpar{\vskip 1em\flushright
{\small{\bfseries Keywords}:\par
pandoc\\pandoc-crossref\\github actions\\}
}


how many different chapter ones will i have hmmm




\vskip 2em
\makebox[0pt][l]{\colorRule[CCCCCC]{2.0\textwidth}{0.5pt}}
\vskip 2em

\hypertarget{introduction}{%
\section{Introduction}\label{introduction}}

Human activity has rapidly reshaped the face of Earth's surface, leaving
fragments of patchy habitat. Although there is no shortage of debate as
to the effects of fragmentation \emph{per se} on biodiversity and
ecosystem function (\textbf{cite?} ), it is generally accepted that the
combination of habitat and ensuing subdivision produce negative outcomes
for ecosystem function and services (\textbf{resasco?} review).

In order to mitigate the consequences of landscape change on ecosystems,
developing landscape \emph{corridors} has seen much attention in the
last several decades. Bit more evidence for corridors here. But still,
the spatter of fragments in a landscape, where should ecologists choose
to use their limit resources to build a corridor?

Here we propose to answer that question by proposing an algorithm to
estimate the landscape modification that results in optimizing a
specific ecosystem process (in this paper maximizing the time until
extinction of a metapopulation, although the algorithm and associated
software can be generally applied to any process-based model with a
quantifiable target state).

Although algorithms have been proposed for this (\textbf{peterman?}
etc), they are focused on finding the where the paths of least existance
for a given species is given data on that species dispersal.

\hypertarget{an-algorithm-for-optimizing-corridor-placement}{%
\section{An algorithm for optimizing corridor
placement}\label{an-algorithm-for-optimizing-corridor-placement}}

Start with some definitions and notation.

Define the set of possible landscape modifications, \(\mathfrak{M}\), in
optimization language called the \emph{search-space}. Introduce
uncountability argument of this space.

Because we cannot test every possible modification in \(\mathfrak{M}\),
we use simulated annealing, a method for estimating the global optimum
of functions with NP search-spaces.

\hypertarget{proposing-landscape-modifications}{%
\subsection{Proposing landscape
modifications}\label{proposing-landscape-modifications}}

This is really important. We propose (no pun intended) several
algorithms for generating landscape modifications. Some of the details
here might have to go in a supplement/appendix.

\hypertarget{graph-based}{%
\subsubsection{Graph-based}\label{graph-based}}

Consider only modifications that consist of connecting nodes. TODO: only
choose topologies from the minimum spanning tree of the nodes.

\hypertarget{the-two-stage-approach}{%
\paragraph{The two stage approach}\label{the-two-stage-approach}}

Stage-one: accept a new topology of connected nodes with probability in
proportion to chain temperature (see next section).

Stage-two: modify way that the connection for a given topological
structure is chosen. Because we are working in a 2D raster, all
distances between points are Manhattan distances, and any link between
points is composed of \(x\) horizontal steps and \(y\) vertical steps.
There are thus \(2^{\min(x,y)}\) ways to connect two nodes that far
apart.

\hypertarget{not-graph-based}{%
\subsubsection{Not graph-based}\label{not-graph-based}}

The reason to avoid this is because the search-space grows much faster
with lattice size and budget. That being said, we can use some simply
heuristics to weight proposals using ``common-sense.''

\hypertarget{simulated-annealing-to-explore-the-space-of-landscape-modifications}{%
\subsection{Simulated annealing to explore the space of landscape
modifications}\label{simulated-annealing-to-explore-the-space-of-landscape-modifications}}

The transition probability function, \(q\), which gives the probability
of moving from one modification \(i \in \mathbb{M}\) to a new proposed
state \(j \in \mathbb{M}\), as a function of a chains temperature.

Here we define \(q(i,j)\) using a logistic function,

\[q(i,j, \alpha) = \frac{1}{1 + e^{\alpha (s(j) - s(i))}}\]

\(s(i)\) is the function that gives the score of a proposed
modification. Here, the mean time to extinction.

Simulated annealing can be written described as the following.

A markov-chain, denoted \(\pi_\alpha\)

\textbf{\emph{Figure 1: concept fig}}

\hypertarget{process-based-optimization-using-occupancy-dynamics}{%
\subsection{Process-based optimization (using occupancy
dynamics)}\label{process-based-optimization-using-occupancy-dynamics}}

Here we use occupancy dynamics as the process, although we emphasize
that this method works for arbitrary process models and is instead
limited only by the computational demands of a given process model.

Compute new resistance surface which gives pairwise potential values for
each pair of points.

\hypertarget{occupancy-model}{%
\subsubsection{Occupancy model}\label{occupancy-model}}

This pairwise potential value becomes normalized dispersal potential in
spatially-explicit metapopulation dynamics model (\textbf{ovask2003?}).
Done using \texttt{MetacommunityDynamics.jl}.

There might be attempts at analytic stuff but maybe not here?

\textbf{\emph{Figure 2: MTE versus epoch fig}}: shows the chains move
toward higher *extinction times over time, i.e.~it works.

\hypertarget{simulation-of-data-for-testing-the-algorithm}{%
\section{Simulation of data for testing the
algorithm}\label{simulation-of-data-for-testing-the-algorithm}}

In this section we describe the generation of simulated land cover and
sites for testing the algorithm.

\hypertarget{simulation-of-landscapes}{%
\subsection{Simulation of landscapes}\label{simulation-of-landscapes}}

\hypertarget{generation-of-landcover-maps}{%
\subsubsection{Generation of landcover
maps}\label{generation-of-landcover-maps}}

DiamondSquare with high autocorrelatoin (0.7). Binned into \(N_{cat}\)
land cover categories.

\hypertarget{generation-of-points}{%
\subsubsection{Generation of points}\label{generation-of-points}}

Random Poisson process rounded to be integer coordinates. Padding around
the edges because real data doesn't have points on the edges, 10\% on
each side.

\hypertarget{resistance-values-assigned-to-each-land-cover-type}{%
\subsubsection{Resistance values assigned to each land cover
type}\label{resistance-values-assigned-to-each-land-cover-type}}

Each simulated land cover has \(N_{cat}\) categories. The values of
resistance

\textbf{\emph{Some type of performance fig vs.~raster size and budget
figure}}

\hypertarget{actual-data-st.-lawrence-lowlands}{%
\section{Actual data St.~Lawrence
lowlands}\label{actual-data-st.-lawrence-lowlands}}

\hypertarget{discussion}{%
\section{Discussion}\label{discussion}}

\end{document}
